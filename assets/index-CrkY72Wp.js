import{d as V,r as h,o as U,a as f,b as o,c as u,e as q,f as e,F as z,g as W,t as g,h as s,w as m,i as S,_ as E,j as Y,u as N,E as O,n as X,k as T,l as j,m as x,p as F,q as I,v as L,s as Z,x as G,y as J}from"./index-C6igoUz8.js";const K="/esop/images/logo.gif",ee="/esop/images/avatar.png",ae={class:"rightBar"},le={class:"scrollBar"},ne=["onClick"],te=V({__name:"rightBar",setup(M){const a=h(!1);U(()=>{l()});const c=h([]),p=h({code:"000",name:"",state:0,desc:"",time:""}),l=()=>{const d=["尺寸不合格","材质不合格","外观有瑕疵","质量问题","开口过大","镜头不聚焦","镜片不透光"],i=[];for(let t=0;t<50;t++)i.push({code:`DOC${Math.floor(Math.random()*16+2010)}${("00"+Math.floor(Math.random()*100)).slice(-3)}`,name:"M230012-B001",state:Math.floor(Math.random()*2),desc:d[Math.floor(Math.random()*d.length)],time:`${Math.floor(Math.random()*16+2010)}.${Math.floor(Math.random()*12+1)}.${Math.floor(Math.random()*31)}`});c.value=i.sort((t,_)=>new Date(_.time).getTime()-new Date(t.time).getTime())},r=d=>{p.value=d,a.value=!0};return(d,i)=>{const t=f("SvgIcon"),_=f("el-form-item"),k=f("el-input"),D=f("el-form"),w=f("el-dialog");return o(),u("div",ae,[i[4]||(i[4]=q('<div data-v-4e060c79><header data-v-4e060c79>员工信息</header><div class="info" data-v-4e060c79><img src="'+ee+'" alt="" data-v-4e060c79><div data-v-4e060c79><span class="label" data-v-4e060c79>姓名</span><span data-v-4e060c79>张三</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>电话</span><span data-v-4e060c79>135********</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>工号</span><span data-v-4e060c79>Y220817</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>职位</span><span data-v-4e060c79>QC</span></div></div><div data-v-4e060c79><span class="label" data-v-4e060c79>隶属部门</span><span data-v-4e060c79>质检</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>技能等级</span><span data-v-4e060c79>⭐️⭐️⭐️</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>操作设备</span><span data-v-4e060c79>三菱MA23</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>设备编码</span><span data-v-4e060c79>PL001</span></div></div><div data-v-4e060c79><header data-v-4e060c79>当前时段生产信息</header><div data-v-4e060c79><span class="label" data-v-4e060c79>工件编码</span><span data-v-4e060c79>M230012-B001</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>批次</span><span data-v-4e060c79>L12541</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>工件名称</span><span data-v-4e060c79>光学组件2</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>毛坯尺寸</span><span data-v-4e060c79>2000*1200*90</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>计划完成</span><span data-v-4e060c79>2024.11.23. 12:30:15</span></div><div data-v-4e060c79><span class="label" data-v-4e060c79>工单信息</span><span data-v-4e060c79>X2D0001221</span></div></div>',2)),e("div",null,[i[2]||(i[2]=e("header",null,"历史不良记录",-1)),i[3]||(i[3]=e("div",{class:"title"},[e("span",null,"文件号"),e("span",null,"事故原因"),e("span",null,"时间")],-1)),e("ul",le,[(o(!0),u(z,null,W(c.value,n=>(o(),u("li",{key:n.code,onClick:b=>r(n)},[e("span",null,g(n.code),1),e("span",null,[s(t,{name:"file_view",width:"18",height:"18",color:"#fff"}),e("span",null,g(n.desc),1)]),e("span",null,g(n.time),1)],8,ne))),128))])]),s(w,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=n=>a.value=n),title:"不良事故单",center:"",width:"600",modal:!1,draggable:"","append-to-body":""},{default:m(()=>[s(D,{model:p.value,"label-width":"65px"},{default:m(()=>[s(_,{label:"文件号"},{default:m(()=>[S(g(p.value.code),1)]),_:1}),s(_,{label:"时间"},{default:m(()=>[S(g(p.value.time),1)]),_:1}),s(_,{label:"责任人"},{default:m(()=>[S(g(p.value.name),1)]),_:1}),s(_,{label:"事故原因"},{default:m(()=>[s(k,{modelValue:p.value.desc,"onUpdate:modelValue":i[0]||(i[0]=n=>p.value.desc=n),class:"textarea",type:"textarea",rows:5,disabled:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),se=E(te,[["__scopeId","data-v-4e060c79"]]),R=Y("userStore",()=>{const M=h(null),a=h({id:"",label:"",ecn:0,leaf:!1,disabled:!1,children:[],files:[]});return{currBtn:M,currNode:a}}),oe={class:"esopTree scrollBar"},ce=["onClick"],de=["onClick"],re=V({__name:"treeCom",setup(M){const a=R(),c=h(!1);let p;const l=h({code:"",author:"",name:"",state:"",date:"",desc:"",time:0}),r=h([]),d=h("");U(()=>{i()});const i=()=>{const n=[{type:"images",url:"/esop/images/3.png",name:"装配规范"},{type:"images",url:"/esop/images/4.png",name:"L贴纸作业要求"},{type:"media",url:"/esop/images/1.mp4",name:"光厂小型电路板焊接点焊锡焊"},{type:"images",url:"/esop/images/2.png",name:"后壳注意事项"}],b=[{type:"images",url:"/esop/images/6.png",name:"背景图1"},{type:"images",url:"/esop/images/7.png",name:"背景图2"},{type:"media",url:"/esop/images/1.mp4",name:"光厂小型电路板焊接点焊锡焊"},{type:"images",url:"/esop/images/2.png",name:"后壳注意事项"}],C=[{type:"images",url:"/esop/images/1.png",name:"外壳加工"},{type:"images",url:"/esop/images/2.png",name:"后壳注意事项"},{type:"images",url:"/esop/images/5.png",name:"底板公差"}],P=[{type:"images",url:"/esop/images/5.png",name:"底板公差"},{type:"images",url:"/esop/images/4.png",name:"L贴纸作业要求"},{type:"images",url:"/esop/images/7.png",name:"背景图2"}],y=[{id:"0",label:" 光学房ESOP",ecn:0,leaf:!1,disabled:!1,children:[],files:n}];for(let v=0;v<30;v++)y[0].children.push({id:`${v+1}`,label:`工位${("00"+(v+1)).slice(-3)}`,ecn:v===5?1:0,leaf:!1,disabled:v!==5,children:[],files:v===5?b:[]});for(let v=0;v<5;v++)y[0].children[5].children.push({id:`6-${v}`,label:`工位${("006-00"+(v+1)).slice(-7)}`,ecn:v<2?2:0,leaf:!1,disabled:!(v<2),children:[],files:v===0?C:v===1?P:[]});r.value=y,d.value=r.value[0].id,a.currNode=r.value[0]},t=n=>{const b=["更新外壳","新增零件","修复外观有瑕疵","提高螺母强度","镜片加厚","芯片升级到v10.2"],C=["六二熊","张三","李四","王五帅","赵六云","孙七","周八皮","吴老九"],P=["","未读","已读"];l.value={code:`ECN2025${("00"+Math.floor(Math.random()*100)).slice(-3)}`,author:C[Math.floor(Math.random()*C.length)],name:C[Math.floor(Math.random()*C.length)],state:P[a.currNode.ecn],date:`${Math.floor(Math.random()*16+2010)}.${Math.floor(Math.random()*12+1)}.${Math.floor(Math.random()*31)}`,desc:b[Math.floor(Math.random()*b.length)],time:n.ecn===1?10:0}},_=n=>{if(n.disabled){O.warning("权限不够!!!");return}if(r.value[0].children[5].ecn===1){O.error("请先点击红色ECN!");return}a.currNode=n},k=n=>{p=setInterval(()=>{l.value.time--,l.value.time<=0&&(console.log(n),r.value[0].children[5].ecn=2,clearInterval(p))},1e3)},D=()=>{if(l.value.time>0){O.warning("请耐心阅读!");return}c.value=!1},w=n=>{if(n.id!==r.value[0].children[5].id&&r.value[0].children[5].ecn===1){O.error("请先点击红色ECN!");return}c.value=!0,t(n),n.ecn===1&&k(n.id)};return(n,b)=>{const C=f("el-tooltip"),P=f("el-tree"),y=f("el-form-item"),v=f("el-input"),A=f("el-form"),H=f("el-dialog");return o(),u("div",oe,[s(P,{"empty-text":"当前项目没有任何计划",props:{label:"label",children:"children",isLeaf:"leaf",class:$=>$.disabled?"disabled":N(a).currNode.id===$.id?"active":"allow"},data:r.value,"node-key":"id","default-expand-all":"","current-node-key":d.value,"expand-on-click-node":!1,onCurrentChange:_},{default:m(({node:$,data:B})=>[e("div",{class:F(["node",{disabled:B.disabled}])},[e("p",{class:"nodeName",style:X({color:B.disabled?"#bbb":"#fff"})},g($.label),5),B.ecn===1?(o(),T(C,{key:0,content:"未读",placement:"right"},{default:m(()=>[e("span",{class:"ecn1",onClick:j(Q=>w(B),["stop"])},"ECN",8,ce)]),_:2},1024)):x("",!0),B.ecn===2?(o(),T(C,{key:1,content:"已读",placement:"right"},{default:m(()=>[e("span",{class:"ecn2",onClick:j(Q=>w(B),["stop"])},"ECN",8,de)]),_:2},1024)):x("",!0)],2)]),_:1},8,["props","data","current-node-key"]),s(H,{modelValue:c.value,"onUpdate:modelValue":b[1]||(b[1]=$=>c.value=$),center:"",width:"600",modal:!1,"append-to-body":"",draggable:"","before-close":D},{header:m(()=>[e("h4",null,[b[2]||(b[2]=e("span",null,"ECN变更通知单",-1)),I(e("span",{style:{color:"red"}},"剩余时间:"+g(l.value.time),513),[[L,l.value.time!==0]])])]),default:m(()=>[s(A,{model:l.value,"label-width":"65px"},{default:m(()=>[s(y,{label:"文件号"},{default:m(()=>[S(g(l.value.code),1)]),_:1}),s(y,{label:"时间"},{default:m(()=>[S(g(l.value.date),1)]),_:1}),s(y,{label:"提出人"},{default:m(()=>[S(g(l.value.author),1)]),_:1}),s(y,{label:"责任人"},{default:m(()=>[S(g(l.value.name),1)]),_:1}),s(y,{label:"事故原因"},{default:m(()=>[s(v,{modelValue:l.value.desc,"onUpdate:modelValue":b[0]||(b[0]=$=>l.value.desc=$),class:"textarea",type:"textarea",rows:5,disabled:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ie=E(re,[["__scopeId","data-v-0ecd30fc"]]),ue={class:"headerBtn"},pe={key:0},ve=["src"],me={key:2},fe=["onClick"],_e=["src"],ge={key:1},he=V({__name:"imgCom",setup(M){const a=R(),c=h(),p=h(!1),l=h({type:"",url:"",name:""});U(()=>{a.currNode.files.length>0&&(l.value=a.currNode.files[0])}),Z(()=>a.currNode,()=>{a.currNode.files.length>0&&(l.value=a.currNode.files[0])});const r=()=>{a.currBtn=null},d=()=>{let t=a.currNode.files.indexOf(l.value);if(t===0){c.value.scrollLeft=0;return}l.value=a.currNode.files[t-1],c.value.scrollLeft-=75},i=()=>{let t=a.currNode.files.indexOf(l.value);if(t===a.currNode.files.length-1){c.value.scrollLeft=c.value.scrollWidth;return}l.value=a.currNode.files[t+1],c.value.scrollLeft+=75};return(t,_)=>{const k=f("SvgIcon"),D=f("CaretLeft"),w=f("CaretRight");return o(),u("div",{class:F(["imgCom",{fullScreen:p.value}])},[e("div",ue,[p.value?(o(),T(k,{key:1,name:"fullscreen",color:"#fff",onClick:_[1]||(_[1]=n=>p.value=!1)})):(o(),T(k,{key:0,name:"noFullscreen",color:"#fff",onClick:_[0]||(_[0]=n=>p.value=!0)})),s(k,{name:"close",color:"#fff",onClick:r})]),e("h4",null,g(N(a).currNode.disabled?'你没有权限预览 "灰色" 节点(请点击 "白色" 节点)':l.value.name),1),N(a).currNode.disabled?(o(),u("section",ge,[s(k,{name:"photo",width:"100",height:"100",color:"#00000020"})])):(o(),u("section",pe,[l.value.type=="images"?(o(),u("div",{key:0,style:X({background:`url(${l.value.url}) no-repeat center`,backgroundSize:"contain"})},null,4)):x("",!0),l.value.type=="media"?(o(),u("video",{key:1,src:l.value.url,controls:""},null,8,ve)):x("",!0),N(a).currNode.files.length>0?(o(),u("footer",me,[e("ul",{ref_key:"footerRef",ref:c},[(o(!0),u(z,null,W(N(a).currNode.files,n=>(o(),u("li",{class:F({active:n.url==l.value.url}),key:n.url,onClick:b=>l.value=n},[n.type=="images"?(o(),u("div",{key:0,class:"img",style:X({background:`url(${n.url}) no-repeat center`,backgroundSize:"contain"})},null,4)):x("",!0),n.type=="media"?(o(),u("video",{key:1,src:n.url},null,8,_e)):x("",!0)],10,fe))),128))],512),s(D,{class:"left-icon",onClick:d}),s(w,{class:"right-icon",onClick:i})])):x("",!0)]))],2)}}}),be=E(he,[["__scopeId","data-v-c4225f40"]]),Ce={class:"fileCom"},ye={class:"headerBtn"},ke=V({__name:"fileCom",setup(M){const a=R(),c=()=>{a.currBtn=null};return(p,l)=>{const r=f("SvgIcon");return o(),u("div",Ce,[e("div",ye,[s(r,{name:"close",color:"#fff",onClick:c})]),l[0]||(l[0]=e("h4",null,"PPT/PDF/Excel/Word/PPTX/ZIP等存放位置(这类文件需要浏览器跳转新的窗口)",-1)),e("section",null,[s(r,{name:"noDoc",width:"100",height:"100",color:"#00000020"})])])}}}),$e=E(ke,[["__scopeId","data-v-b9736d9f"]]),Ne={class:"helpCom"},Me={class:"headerBtn"},xe={class:"content"},Se={class:"menu"},we=["onClick"],Be={class:"detail"},Ie={class:"detail"},Le={class:"detail"},Ve=V({__name:"helpCom",setup(M){const a=R(),c=h(1),p=h([{id:1,name:"基础操作"},{id:2,name:"导航栏"},{id:3,name:"右侧栏"}]),l=r=>{c.value=r};return(r,d)=>{const i=f("SvgIcon");return o(),u("div",Ne,[e("div",Me,[s(i,{name:"close",color:"#fff",onClick:d[0]||(d[0]=t=>N(a).currBtn=null)})]),d[4]||(d[4]=e("h4",null,"帮 助",-1)),e("div",xe,[e("ul",Se,[(o(!0),u(z,null,W(p.value,t=>(o(),u("li",{key:t.id,class:F({action:c.value===t.id}),onClick:_=>l(t.id)},[e("span",null,g(t.name),1)],10,we))),128))]),I(e("div",Be,d[1]||(d[1]=[q("<p data-v-329c87f2>用于一些基础的操作</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p><p data-v-329c87f2>● *******************</p>",10)]),512),[[L,c.value===1]]),I(e("div",Ie,d[2]||(d[2]=[e("p",null,"导航栏的操作",-1),e("p",null,"● 红色ECN(未读),自动弹出, 5秒后允许关闭",-1),e("p",null,"● 蓝色ECN(已读),需要点击图标弹出",-1),e("p",null,"● ****************************",-1),e("p",null,"● ****************************",-1),e("p",null,"● ****************************",-1),e("p",null,"● ****************************",-1)]),512),[[L,c.value===2]]),I(e("div",Le,d[3]||(d[3]=[e("p",null,"右侧栏操作说明",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1),e("p",null,"● ***********************",-1)]),512),[[L,c.value===3]])])])}}}),Ee=E(Ve,[["__scopeId","data-v-329c87f2"]]),De={id:"esop"},Pe={class:"right_top"},Te=["onClick"],Fe=V({__name:"index",setup(M){const a=R(),c=h([{id:1,name:"",icon:"help"},{id:2,name:"media",icon:"photo"},{id:3,name:"files",icon:"file_doc"}]);U(()=>{a.currBtn=2});const p=r=>{a.currBtn=r},l=G(()=>{switch(a.currBtn){case 1:return Ee;case 2:return be;case 3:return $e}});return(r,d)=>{const i=f("SvgIcon");return o(),u("div",De,[d[0]||(d[0]=e("div",{class:"logo"},[e("img",{src:K,alt:"logo"}),e("span",null,"ESOP")],-1)),e("div",Pe,[e("ul",null,[(o(!0),u(z,null,W(c.value,t=>(o(),u("li",{key:t.id,class:F({action:N(a).currBtn===t.id}),onClick:_=>p(t.id)},[I(s(i,{name:t.icon,color:N(a).currBtn!==t.id?"#fff":"#0099ff",width:"18",height:"18"},null,8,["name","color"]),[[L,t.icon]]),I(e("span",null,g(t.name),513),[[L,t.name]])],10,Te))),128))])]),s(ie),s(se),(o(),T(J(l.value)))])}}}),Oe=E(Fe,[["__scopeId","data-v-4249bf95"]]);export{Oe as default};
